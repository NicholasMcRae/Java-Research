Today
10:38 AM
Hey Jason question for you..
Jason Howe
10:38 AM
good morning
10:38 AM
Morning
When we update the crontab, is the 'crontab' keyword a pseudonym we created?
For context, I'm not updating the crontab.. just going through some of our documentation on the Cerner Servers to try to understand them a little better
Jason Howe
10:40 AM
no, that is a standard linux/unix daemon
you can "man crontab" from the command line
10:40 AM
Ok.. so any Java we have running periodically from these servers will exist on that tab?
Jason Howe
10:41 AM
yes, anything running automatically on our java servers will be within that.
its a bit of a toss up for anything periodic on a Cerner server between OPS and cron
10:42 AM
Right.. OPS
Does the cron tab actually exist in a directory somewhere on the server, or only accessible via that command?
Jason Howe
10:43 AM
fyi: the crontab is specific to each user... so you need to make sure you are the right user when viewing it.    ie. most of our jobs run as either the www-data or tomcat8 user on the ditjavaXXX or ditappsXXX servers
I think there might be a spot on the disk, but a quick way to just have a look is to use: crontab -l      (ie. list)
10:44 AM
Gotcha thanks.
Jason Howe
10:44 AM
so on ditappsprd all the jobs run as www-data.   You could see this by running "crontab -u www-data -l"
Jason Howe
10:46 AM
there is a job running on many of these servers that Dave setup that outputs the crontab nightly to a directory.
10:47 AM
Also another question.. when you updated our Java to 64 bit on that SIM recently.. did you just need to update the file that built out the classpath? set_lhsc_java.sh?
Jason Howe
10:47 AM
its in /var/www/cron/backups/
yes
10:49 AM
So what was it that Cerner did to our server instances? Some kind of configuration that forced a requirement that all internal java be 64 bit?
Trying to understand that a bit better from a high level
Jason Howe
10:53 AM
yes, they have a process that automatically was updating our system (I think runs everyday at 11:45pm on nodes 1,3,4 and 11:45am on node 2) .   It was basically removing any 32bit version of java that was "unused".     So this is why node 2 continued to work until 11:45am that day.
Jason Howe
10:54 AM
both Pam and I got an upcoming changes email and completely missed this change.   Their emails are so cryptic and cover many solutions/servers
10:57 AM
Ok, this might sound like a dump question.. so there would be a copy of the Java library on these servers. Cerner swapped out a 32 bit version with a 64 bit version, you updated the classpath file to use the new version. This allowed us to build out everything in 64 bit.

So the internal build of our Jars that we pushed out to these servers weren't dependent on bits, probably just Java version, and could be built out with either a 32 or 64 bit version.
Jason Howe
10:59 AM
yes, my understanding is the same java jars can be run on either 32 or 64 bit version
the other piece I did need to modify in set_lhsc_java.sh was to add some memory arguments to the java command.   Some of our processes worked, while others were running out of memory.
that was related to the 32->64 bit change
11:00 AM
So with regards to the Cerner servers, where does the native Java code actually live? Is that something that can only be accessed by certain users?
Jason Howe
11:01 AM
I'm not sure what you mean by the native Java code...do you mean the java runtime files?
11:01 AM
Yea exactly
Sorry my terminology is off.. the Java EE Library
Jason Howe
11:04 AM
there is a directory under /usr/java/ for each version of java on the server.   Then there is a folder /cerner/alternatives/ that point to each version major version.   This allows the underlying /usr/java/ to update to a new minor version without needing to redirect it

Jason Howe
11:07 AM
its hard to explain without a pic.   Basically Cerner can add a new version of 1.8.0    without causing us issues because they can just redirect the symbolic link jre-1.8.0-oracle.x86_64
Jason Howe
11:08 AM
so I think on dev servers we are using jdk1.8.0_331   and prod using jdk1.8.0_251
11:09 AM
Thanks, that should be enough info for now. So we have a number of shell scripts that call the classpath script, then invoke a java class or jar that does something. Then a few Gateway jobs and crons
I assume our classes under oe_interface are all related to work interfaces has done?
Jason Howe
11:11 AM
no, unfortunately we do have a couple processes that run under the oe_interface directory.   Mostly because they are related to interfaces in some way.   ie. HICL, dialysis auto reg, and the "robot interface".    But these do all start from a cron job
11:12 AM
That makes sense.. so our faxing system for example.. these faxes cross an interface?
Jason Howe
11:14 AM
the faxing runs from that folder as well... doesn't interact with the interface team, but there is a Hylafax server that sends the actual faxes
11:14 AM
Gotcha.. ok I think I've bugged you enough for now
Jason Howe
11:14 AM
ok
11:14 AM
Thanks for the info
Jason Howe
11:14 AM
no problem
11:15 AM
I figured if I'm going to be tied to Cerner land it would be nice to at least have a better understanding of our Cerner servers
So I might chip away at that over time.. I think I mostly get it now, but actually debugging issues seems to require real experience
Jason Howe
11:18 AM
yes, our wiki is pretty dismal.   I'm sure some is almost useless without some understanding of what it is/does, and sometimes its just better to read the code to understand.   I have been attempting to add new documents as I work on things, but their isn't much time to go through updating the existing stuff
11:18 AM
Yea I wonder if there needs to be more emphasis on you and Pam spreading your knowledge, giving others a chance to get their hands dirty
It's one of those counter-intuitive things, because you're both at a higher pay tier.. so in theory your best suited to the work... but probably it's more important that there's someone who can take your place
I'm trying to get there but it's hard without practical problems
Jason Howe
11:23 AM
yes, there have been some projects being distributed more like this recently.   I'm not sure if it is just the timing and things on your plate that you haven't been involved in them yet.
11:23 AM
I think it's more that I'm getting pretty good at Cerner so it's getting harder to pull me away from that
There's always something that makes sense for me to do
Jason Howe
11:23 AM
ya
11:24 AM
I mentioned to Dorothy that I'm ok with that, but I'd still like to grow where I can
Jason Howe
11:24 AM
ya it can be a bit boring doing similar CCL all the time
11:25 AM
I find the business side interesting enough, but yea.. nice to have something to work toward technically
Even with how the pay-scales are set up, I don't find the bands above Software Analyst much of an incentive
It seems like the responsibility you and Pam have isn't quite in conjunction with the Specialist/Consultant bands
11:28 AM
If I could get a significant jump in salary I'd be a little more motivated to gain that contextual awareness
Jason Howe
11:30 AM
I'm not really sure of the bands and was really doing the same work when I was a Software Analyst, so it just made sense to apply.
11:30 AM
Yea.. that seems to be the way it goes. With Dave gone you would have had the same responsibility either way
Jason Howe
11:30 AM
I think it was more of a we need you to stay when Dave left though
11:31 AM
Our work is so specialized it's hard to just.. hire new into a senior position
Jason Howe
11:31 AM
for sure, there are still things after 18years I'm not very familiar with.   Its definitely best to hire into junior and promote within
11:32 AM
Anyway I'll let you go.. thanks again for the info